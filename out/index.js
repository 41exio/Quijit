!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=function e(n){t(this,e),this.question=n.question,this.answer=n.answer,n.snippet&&(this.snippet=n.snippet.replace(/\\n/g,"\n")),this.notAnswers=[];for(var r=1;n["false".concat(r)];)this.notAnswers.push(n["false".concat(r)]),r++},o=function e(){t(this,e),this.body=document.getElementsByTagName("body")[0],this.main=document.getElementsByTagName("main")[0],this.counter={},this.counter.correct=document.querySelector("footer div.progress a.correct"),this.counter.incorrect=document.querySelector("footer div.progress a.incorrect"),this.counter.remaining=document.querySelector("footer div.progress a.remaining"),this.classes={correct:"correctAnswer"},this.hashes={dark:"#dark",toggleHint:"#toggleHint",load:"#convert",correct:"#correct",incorrect:"#wrong"}},i=new o,c=function(t,e){e.innerHTML="";var n=document.createRange().createContextualFragment('<div id="questionDiv"></div>'),r=n.querySelector("div"),o=document.createElement("h2");if(o.textContent=t.question,r.appendChild(o),t.snippet){var c=document.createElement("pre");c.textContent=t.snippet,r.appendChild(c)}var a=[],s=document.createElement("a");s.textContent=t.answer,s.className=i.classes.correct,s.href=i.hashes.correct,a.push(s),t.notAnswers.forEach((function(t){var e=document.createElement("a");e.textContent=t,e.className="",e.href=i.hashes.incorrect,a.push(e)})),(a=function(t){for(var e=t.length;0!==e;){var n=Math.floor(Math.random()*e),r=t[e-=1];t[e]=t[n],t[n]=r}return t}(a)).forEach((function(t){r.appendChild(t)})),e.appendChild(n)},a=new o,s={},l=function(){s.result={correct:0,incorrect:0,total:0}};l(),s.hintTimeout="";var u=function(){var t;l(),function(t,e){var n={};t.onchange=function(){var r=t.files[0];if("text/csv"===r.type||"application/vnd.ms-excel"===r.type){var o=new FileReader;o.onload=function(){n.content=o.result,n.name=r.name.replace(/\.[^\.]+$/,""),e(n)},o.readAsText(r)}else console.log("Error: File type not accepted.")}}(((t=a.main).innerHTML='<input type="file" id="fileInput" name="file" accept=".csv">',t.firstChild),(function(t){s.csvObject=function(t){for(var r=/(?:[\t ]?)+("+)?(.*?)\1(?:[\t ]?)+(?:,|$)/gm,o=function(t,e,n){return e<n.length-1},i=(t=t.replace(/[\r]/g,"")).split("\n"),c=i.splice(0,1)[0].match(r).filter((function(t){return t.length>1})),a=0;a<c.length-1;a++)c[a]=c[a].slice(0,-1);var s=[],l=!0,u=!1,h=void 0;try{for(var f,d=i[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var m=f.value,p={},g=!0,v=!1,y=void 0;try{for(var w,b=n(m.matchAll(r)).filter(o).entries()[Symbol.iterator]();!(g=(w=b.next()).done);g=!0){var C=e(w.value,2),x=C[0],A=C[1];p[c[x]]=A[2].length>0?A[2]:null}}catch(t){v=!0,y=t}finally{try{g||null==b.return||b.return()}finally{if(v)throw y}}Object.keys(p).length>0&&s.push(p)}}catch(t){u=!0,h=t}finally{try{l||null==d.return||d.return()}finally{if(u)throw h}}return s}(t.content),s.remaining=[],s.csvObject.forEach((function(t){s.remaining.push(new r(t))})),h(),window.location.hash=""}))},h=function(){var t,e,n;if(function(t,e){e.correct.textContent=t.correct,e.incorrect.textContent=t.incorrect,e.remaining.textContent=t.remaining}({correct:s.result.correct,incorrect:s.result.incorrect,remaining:s.remaining.length},a.counter),s.remaining&&s.remaining.length>0){var r=Math.floor(Math.random()*s.remaining.length);s.current=s.remaining.splice(r,1)[0],c(s.current,a.main),clearTimeout(s.hintTimeout),s.hintTimeout=setTimeout((function(){a.main.firstChild.classList.add("hint")}),1e4)}else t=s.result,e=a.main,n=Math.floor(t.correct/t.total*100),e.innerHTML="<p></p>",e.firstChild.textContent="You got ".concat(t.correct," correct, ").concat(t.incorrect," wrong, out of a total of ").concat(t.total,", which is a success rate of ").concat(n,"%"),l();window.location.hash=""};window.onhashchange=function(){var t=window.location.hash;t===a.hashes.load?u():t===a.hashes.dark?(a.body.classList.toggle("dark"),window.location.hash=""):t===a.hashes.toggleHint?window.location.hash="":t===a.hashes.correct?(s.result.correct++,s.result.total++,h()):t===a.hashes.incorrect&&(s.result.incorrect++,s.result.total++,h())}}();