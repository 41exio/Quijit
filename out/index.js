!function(){class t{constructor(t){this.question=t.question,this.answer=t.answer,t.snippet&&(this.snippet=t.snippet.replace(/\\n/g,"\n")),this.notAnswers=[];let e=1;for(;t[`false${e}`];)this.notAnswers.push(t[`false${e}`]),e++}}class e{constructor(){this.main=document.getElementsByTagName("main")[0],this.classes={correct:"correctAnswer"},this.hashes={start:"#start",load:"#convert",correct:"#correct",incorrect:"#wrong"}}}const n=new e,o=(t,e)=>{e.innerHTML="";const o=document.createRange().createContextualFragment('<div id="questionDiv"></div>'),s=o.querySelector("div"),r=document.createElement("h2");if(r.textContent=t.question,s.appendChild(r),t.snippet){const e=document.createElement("pre");e.textContent=t.snippet,s.appendChild(e)}let c=[];const a=document.createElement("a");a.textContent=t.answer,a.className=n.classes.correct,a.href=n.hashes.correct,c.push(a),t.notAnswers.forEach(t=>{const e=document.createElement("a");e.textContent=t,e.className="",e.href=n.hashes.incorrect,c.push(e)}),(c=(t=>{let e=t.length;for(;0!==e;){const n=Math.floor(Math.random()*e),o=t[e-=1];t[e]=t[n],t[n]=o}return t})(c)).forEach(t=>{s.appendChild(t)}),e.appendChild(o)},s=new e,r={},c=()=>{r.result={correct:0,incorrect:0,total:0}};c(),r.hintTimeout="";const a=()=>{((t,e)=>{const n={};t.onchange=()=>{const o=t.files[0];if("text/csv"===o.type||"application/vnd.ms-excel"===o.type){const t=new FileReader;t.onload=()=>{n.content=t.result,n.name=o.name.replace(/\.[^\.]+$/,""),e(n)},t.readAsText(o)}else console.log("Error: File type not accepted.")}})((t=>(t.innerHTML='<input type="file" id="fileInput" name="file" accept=".csv">',t.firstChild))(s.main),e=>{r.csvObject=(t=>{const e=/(?:[\t ]?)+("+)?(.*?)\1(?:[\t ]?)+(?:,|$)/gm,n=(t,e,n)=>e<n.length-1,o=(t=t.replace(/[\r]/g,"")).split("\n"),s=o.splice(0,1)[0].match(e).filter(t=>t.length>1);for(let t=0;t<s.length-1;t++)s[t]=s[t].slice(0,-1);const r=[];for(const t of o){const o={};for(const[r,c]of[...t.matchAll(e)].filter(n).entries())o[s[r]]=c[2].length>0?c[2]:null;Object.keys(o).length>0&&r.push(o)}return r})(e.content),r.remaining=[],r.csvObject.forEach(e=>{r.remaining.push(new t(e))}),i(),window.location.hash=""})},i=()=>{if(r.remaining&&r.remaining.length>0){const t=Math.floor(Math.random()*r.remaining.length);r.current=r.remaining.splice(t,1)[0],o(r.current,s.main),clearTimeout(r.hintTimeout),r.hintTimeout=setTimeout(()=>{(t=>{t.firstChild.classList.add("hint")})(s.main)},1e4)}else((t,e)=>{const n=Math.floor(t.correct/t.total*100);e.innerHTML="<p></p>",e.firstChild.textContent=`You got ${t.correct} correct, ${t.incorrect} wrong, out of a total of ${t.total}, which is a success rate of ${n}%`})(r.result,s.main),c();window.location.hash=""};window.onhashchange=()=>{const t=window.location.hash;t===s.hashes.load?a():t===s.hashes.start?i():t===s.hashes.correct?(r.result.correct++,r.result.total++,i()):t===s.hashes.incorrect?(r.result.incorrect++,r.result.total++,i()):console.log("Error: Unknown Hash.")}}();